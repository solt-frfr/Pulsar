<Window x:Class="Pulsar.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Pulsar"
        mc:Ignorable="d"
        Title="Pulsar" Height="500" Width="800" MinHeight="500" MinWidth="800" 
        Background="#000000" Icon="/Pulsar.png">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="3*"/>
            <RowDefinition Height=".5*"/>
        </Grid.RowDefinitions>
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="2*"/>
                <RowDefinition Height="25"/>
            </Grid.RowDefinitions>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid>
                    <Button Name="ModsButton" Margin="5" Click="Mods_Click">
                        <Button.Template>
                            <ControlTemplate>
                                <Image Name="ModsImage" Source="/Images/ModsSel.png"/>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
                <Grid Grid.Column="1">
                    <Button Name="AssignButton" Margin="5" Click="Assign_Click">
                        <Button.Template>
                            <ControlTemplate>
                                <Image Name="AssignImage" Source="/Images/AssignUnsel.png"/>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
                <Grid Grid.Column="2">
                    <Button Name="SettingsButton" Margin="5" Click="Settings_Click">
                        <Button.Template>
                            <ControlTemplate>
                                <Image Name="SettingsImage" Source="/Images/SettingsUnsel.png"/>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
            </Grid>
            <Grid Name="SearchSort" Grid.Row="1" Visibility="Visible">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Row="0" Foreground="#e8feff" HorizontalAlignment="Center" Text="Sort by..." VerticalAlignment="Center" FontSize="18" FontWeight="SemiBold"/>
                <ComboBox Margin="10,3,10,3" Name="Sort" Grid.Row="0" Grid.Column="1" SelectionChanged="Sort_SelectionChanged"></ComboBox>
                <ComboBox Margin="10,3,10,3" Name="Sort2" Grid.Row="0" Grid.Column="2" SelectionChanged="Sort2_SelectionChanged"></ComboBox>
                <TextBox Margin="10,3,10,3" Name="Search" Grid.Row="0" Grid.Column="3" GotFocus="Search_GotFocus" PreviewMouseLeftButtonDown="Search_PreviewMouseLeftButtonDown" Text="Search..." TextChanged="Search_TextChanged"/>
            </Grid>
        </Grid>
        <Grid Grid.RowSpan="2" Grid.Column="1" Name="ModContent" Visibility="Visible" Margin="10,10,10,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="4.5*"/>
                <RowDefinition Height="0.5*"/>
                <RowDefinition Height="4.5*"/>
                <RowDefinition Height="1.5*"/>
            </Grid.RowDefinitions>
            <Image Name="Preview" Source="/Images/preview.png" Stretch="Uniform" VerticalAlignment="Top" HorizontalAlignment="Center" Height="Auto" Grid.ColumnSpan="2"/>
            <TextBox Grid.ColumnSpan="2" Grid.RowSpan="2" Grid.Row="2" Name="DescBox" FontSize="12" Background="#1d1d1d" Foreground="#ffffff" TextWrapping="WrapWithOverflow" IsReadOnly="True" Text="Quasar never worked for me, so I made my own. You're seeing this because this mod has no description, or no mod is selected.&#xA;&#xA;Don't see a mod? The ID and folder names must match.&#xD;&#xA;&#xD;&#xA;Confused about the buttons at the bottom? Hover over them for more info."/>
        </Grid>
        <Grid Grid.Row="1" Name="Mods" Visibility="Visible">
            <Grid.RowDefinitions>
                <RowDefinition Height="4*"/>
                <RowDefinition Height="1*"/>
            </Grid.RowDefinitions>
            <DataGrid Name="ModDataGrid"  Grid.Column="0" Grid.Row="0" Margin="10" CanUserAddRows="False" CanUserDeleteRows="False" CanUserReorderColumns="False" CanUserResizeColumns="False" CanUserResizeRows="False" CanUserSortColumns="False"
                      RowBackground="Red" AlternatingRowBackground="DarkRed" AutoGenerateColumns="False" SelectionChanged="currentrow">
                <DataGrid.Columns>
                    <DataGridTemplateColumn Header="On" Width="0.75*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox Name="RowCheckBox" IsChecked="{Binding IsChecked}" Checked="CheckBox_Checked" Unchecked="CheckBox_Unchecked" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" IsReadOnly="True" Width="4*"/>
                    <DataGridTextColumn Header="Type" Binding="{Binding Type}" IsReadOnly="True" Width="2*"/>
                    <DataGridTextColumn Header="Category" Binding="{Binding Category}" IsReadOnly="True" Width="2*"/>
                    <DataGridTextColumn Header="Version" Binding="{Binding Version}" IsReadOnly="True" Width="2*"/>
                    <DataGridTemplateColumn Header="Link">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Name="LinkButton" CommandParameter="{Binding Link}" Click="OpenLink_Click">
                                    <Image Name="LinkImage" Source="/Images/Web.png"/>
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Edit Metadata"
                      Click="Edit_OnClick"
                      CommandParameter="{Binding RelativeSource={RelativeSource Self}, Path=Parent}" />
                        <MenuItem Header="Open Folder"
                      Click="Folder_OnClick"
                      CommandParameter="{Binding RelativeSource={RelativeSource Self}, Path=Parent}" />
                        <MenuItem Header="Properties"
                      Click="Assign_OnClick"
                      CommandParameter="{Binding RelativeSource={RelativeSource Self}, Path=Parent}" />
                        <MenuItem Header="Zip Mod"
                      Click="Zip_OnClick"
                      CommandParameter="{Binding RelativeSource={RelativeSource Self}, Path=Parent}" />
                        <MenuItem Header="Delete"
                      Click="Delete_OnClick"
                      CommandParameter="{Binding RelativeSource={RelativeSource Self}, Path=Parent}"/>
                    </ContextMenu>
                </DataGrid.ContextMenu>
            </DataGrid>
            <RichTextBox FontSize="10" x:Name="ConsoleOutput" Background="#202020" BorderBrush="#424242" Margin="4,3,5.5,0" ClipToBounds="False" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" VerticalAlignment="Stretch" VerticalScrollBarVisibility="Auto" TextChanged="ScrollToBottom" IsReadOnly="True">
                <RichTextBox.Resources>
                    <Style TargetType="{x:Type Paragraph}">
                        <Setter Property="Margin" Value="0" />
                    </Style>
                </RichTextBox.Resources>
            </RichTextBox>
        </Grid>
        <Grid Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,5,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Button Name="DeployButton" Click="Deploy_Click" Grid.Column="0" ToolTip="Deploy mods to selected folder.">
                <Button.Template>
                    <ControlTemplate>
                        <Image Name="DeployImage" Source="/Images/Deploy.png"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Button Name="NewButton" Click="New_OnClick" Grid.Column="1" ToolTip="Create a mod package.">
                <Button.Template>
                    <ControlTemplate>
                        <Image Name="NewImage" Source="/Images/New.png"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Button Name="RefreshButton" Click="Refresh_Click" Grid.Column="2" ToolTip="Refresh mods and settings.">
                <Button.Template>
                    <ControlTemplate>
                        <Image Name="RefreshImage" Source="/Images/Refresh.png"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Button Name="OpenFolderButton" Click="OpenFolder_Click" Grid.Column="3" ToolTip="Open the mods folder.">
                <Button.Template>
                    <ControlTemplate>
                        <Image Name="OpenFolderImage" Source="/Images/OpenFolder.png"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Button Name="InstallArchiveButton" Click="InstallArchive_Click" Grid.Column="4" ToolTip="Install a mod from an archive.">
                <Button.Template>
                    <ControlTemplate>
                        <Image Name="InstallArchiveImage" Source="/Images/InstallArchive.png"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Button Name="DownloadButton" Click="Download_Click" Grid.Column="7" Grid.ColumnSpan="2">
                <Button.Template>
                    <ControlTemplate>
                        <Image Name="DownloadImage" Source="/Images/DownloadUnsel.png"/>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <TextBlock Foreground="#e8feff" Grid.ColumnSpan="2" Grid.Column="5" HorizontalAlignment="Center" Text="Find More" VerticalAlignment="Center" FontSize="25" FontWeight="SemiBold"/>
        </Grid>
        <Grid Name="AssignWindow" Grid.Row="1" Grid.ColumnSpan="2" Visibility="Collapsed">
            
        </Grid>
        <Grid Name="SettingsWindow" Grid.Row="1" Grid.ColumnSpan="2" Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Grid Background="#005ada">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Text="Settings" Foreground="White" FontSize="25" FontWeight="SemiBold" TextDecorations="Underline"/>
                <TextBlock Text="Mod Deployment Path" Foreground="White" FontSize="18" Grid.Row="1" ToolTip="After clicking Deploy, the mods will be placed in this path." VerticalAlignment="Center"/>
                <Grid Grid.Row="1" Grid.Column="1" Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="3*"/>
                    </Grid.ColumnDefinitions>
                    <Button Name="PathButton" ToolTip="After clicking Deploy, the mods will be placed in this path." Click="Path_Click">Browse</Button>
                    <TextBox Name="PathBox" ToolTip="After clicking Deploy, the mods will be placed in this path." IsEnabled="False" Grid.Column="1" Foreground="#b8dffd" Background="#003e94" TextChanged="PathBox_TextChanged"/>
                </Grid>
            </Grid>
            <Grid Grid.Column="1" Background="#005ada">
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition Height="9*"/>
                </Grid.RowDefinitions>
                <TextBlock Text="About Pulsar" Foreground="White" FontSize="25" FontWeight="SemiBold" TextDecorations="Underline"/>
                <TextBox IsReadOnly="True" Grid.Row="1" Foreground="#b8dffd" Background="#005ada" BorderThickness="0" FontSize="12" VerticalScrollBarVisibility="Auto" TextWrapping="WrapWithOverflow" Text="Pulsar is a mod manager made by Solt11.&#xA;Current Version: Beta&#xA;&#xA;I developed this program because the current manager, Quasar, almost never works for me. Instead of going through and seeing how to fix it, I decided to test my programming skills and make my own.&#xA;&#xA;After I started development, a program called Fight Planner was created. I think it's amazing that we finally have a manager that works, but it lacks in the style department. It also doesn't have the ability to assign mods to other slots like Quasar did. &#xA;&#xA;My goal in this project is simple: Make a version of Quasar that works and looks cool.&#xA;&#xA;The most important feature to me that I wanted to add is built-in file conflict management. It's annoying to go to a party or something when I don't have much time, end up sending the mods over to my Switch, and discovering conflicts that take 15 minutes to delete using something like DBI for file management. So I wanted to have a solution that I could send the files over and be done with.&#xA;&#xA;The other one was having a button to open the folder containing the mods. I never remember where my Quasar mods are.&#xA;&#xA;This manager is inspired heavily by Aemulus Package Manager, by Tekka, made for packaging mods for Persona games. I did borrow some of their code, mainly their ParallelLogger. If they wish for its removal, I'd be more than happy to oblige."/>
            </Grid>
        </Grid>
        <Grid Name="DownloadWindow" Grid.Row="1" Grid.ColumnSpan="2" Visibility="Collapsed">

        </Grid>
    </Grid>
</Window>
